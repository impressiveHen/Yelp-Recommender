(this["webpackJsonpyelp-recommender"]=this["webpackJsonpyelp-recommender"]||[]).push([[0],{55:function(e,t,a){e.exports=a.p+"static/media/yelp-black.8c5dfcbd.jpg"},59:function(e,t,a){e.exports=a(89)},64:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(47),i=a.n(o),r=(a(64),a(10)),l=a(16),m=a(11),s=a(22),d=a(24),u=a(54),p=a(12),h=a(17),g=a.n(h),f=a(18),y=a(90),E="cPV6XVnkeoPWs6r0oWMSMnbqqe73LK9945o0qaQHBwqGUpRtpBsP7kDe77uBN1-DNniaYTdNG-HiNmH7GISeY5DNXwCuRYhumrr2hH9AwOEsS13Oainls3cnRroCXnYx",b=[{id:"WavvLdfdP6g8aZTtbBQHTw",name:"Gary Danko",image_url:"https://s3-media2.fl.yelpcdn.com/bphoto/CPc91bGzKBe95aM5edjhhQ/o.jpg",rating:4.5,location:{city:"San Francisco",state:"CA"},categories:[{alias:"newamerican",title:"American (New)"}]},{id:"arhKqyXJiPBEcmOne0B3_Q",name:"Tazza Deli & Grill",image_url:"https://s3-media1.fl.yelpcdn.com/bphoto/nMJQpqWs_2XbGZDl6FUhXQ/o.jpg",rating:4,location:{city:"Calgary",state:"AB"},categories:[{alias:"mideastern",title:"Middle Eastern"}]},{id:"hZvyXM5wy8O_zC3HiLWI9A",name:"Costa Market",image_url:"https://s3-media3.fl.yelpcdn.com/bphoto/Kt7J2GQ4ChZoLcSqtyCHhg/o.jpg",rating:4.5,location:{city:"New Kensington",state:"PA"},categories:[{alias:"catering",title:"Caterers"}]},{id:"M7UUtqg0K09T6Z0yIy0Hlw",name:"Earls Kitchen + Bar",image_url:"https://s3-media1.fl.yelpcdn.com/bphoto/qBaKcdqF3zBxrcWkToduJg/o.jpg",rating:3,location:{city:"Calgary",state:"AB"},categories:[{alias:"newcanadian",title:"Canadian (New)"}]},{id:"XFV_KWgCMVR9gi6m4EaFVA",name:"Mile-Ex Restaurant",image_url:"https://s3-media1.fl.yelpcdn.com/bphoto/zaZUqxfChUo2o-zFhjke_g/o.jpg",rating:4.5,location:{city:"Montreal",state:"QC"},categories:[{alias:"newcanadian",title:"Canadian (New)"}]},{id:"cMrCi3nAcBi3aUKDRAySiw",name:"Big Mamma's Boy",image_url:"https://s3-media2.fl.yelpcdn.com/bphoto/7RTBPcvzm6lKsCWiaU8DSw/o.jpg",rating:3.5,location:{city:"Toronto",state:"ON"},categories:[{alias:"italian",title:"Italian"}]},{id:"HwV2hQr7fbpiG8wODWJQ1w",name:"Azteca Mexican Restaurant",image_url:"https://s3-media2.fl.yelpcdn.com/bphoto/F6CADAG9tHGt74Yfws_gjg/o.jpg",rating:3.5,location:{city:"Charlotte",state:"NC"},categories:[{alias:"mexican",title:"Mexican"}]}],w=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),h=Object(r.a)(l,2),b=h[0],w=h[1],C=Object(m.f)();return Object(n.useEffect)((function(){var t={resId:e.location.state.selectedId,number:4};i(!0),fetch("http://127.0.0.1:5000/Yelp/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e.result),e.result.forEach((function(e){g.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(e),{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){w((function(t){return[].concat(Object(s.a)(t),[e.data])}))})).catch((function(e){console.log(e)}))})),i(!1)}))}),[e.location.state.selectedId]),o?c.a.createElement("h1",{style:{textAlign:"center",marginTop:"20%"}},"......loading recommendations"):(console.log(b),c.a.createElement("div",{className:"recomm-list"},c.a.createElement(f.a,null,c.a.createElement(y.a,null,b.map((function(e){return c.a.createElement("div",{className:"card-wrapper",key:e.id,style:{width:"15em",margin:"auto",marginTop:"2rem",borderStyle:"solid",borderWidth:"0.4em",borderColor:"#B22222"}},c.a.createElement(d.a,null,c.a.createElement(d.a.Img,{variant:"top",src:e.image_url,style:{background:"#d6d6c2",width:"100%",height:"15em"}}),c.a.createElement(d.a.Body,{style:{width:"100%"}},c.a.createElement(p.a,{className:"flush"},c.a.createElement(p.a.Item,null,"Name: "+e.name),c.a.createElement(p.a.Item,null,"Location: "+e.location.state+", "+e.location.city),c.a.createElement(p.a.Item,null,"Category: "+e.categories[0].title),c.a.createElement(p.a.Item,null,"Rating: "+e.rating)))))}))),c.a.createElement(y.a,null,c.a.createElement(u.a,{variant:"primary",onClick:function(){return C.goBack()},style:{margin:"auto",marginTop:"2em",fontSize:"2em"}},"GO BACK TO SELECTION PAGE")))))},C=function(){return c.a.createElement("div",null,c.a.createElement("h2",null,"No Match Path"))},j=a(30),v=a.n(j);a(86);v.a.initializeApp({apiKey:"AIzaSyBcFaFt4-fQ5pEKnMLFNCqSUv5KVoMh4_Y",authDomain:"yelprecommender-6864d.firebaseapp.com",databaseURL:"https://yelprecommender-6864d.firebaseio.com",projectId:"yelprecommender-6864d",storageBucket:"yelprecommender-6864d.appspot.com",messagingSenderId:"188821918678",appId:"1:188821918678:web:a4d3b0e472f7e8ac254a77"});var B=v.a,O=a(23),N=a(91),S=a(92),k=a(55),A=a.n(k),I=(a(88),function(e){var t=Object(n.useState)(0),a=Object(r.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(b),d=Object(r.a)(l,2),u=d[0],p=d[1],h=Object(m.f)();return Object(n.useEffect)((function(){e.idData.forEach((function(e){g.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/".concat(e),{headers:{Authorization:"Bearer ".concat(E),"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){p((function(t){return[].concat(Object(s.a)(t),[e.data])}))})).catch((function(e){console.log(e)}))}))}),[e.idData]),c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{style:{justifyContent:"center",marginBottom:"1em"},className:"d-flex flex-row"},c.a.createElement(N.a,{src:A.a,style:{width:"10em",height:"6em",marginRight:"0.5em"},roundedCircle:!0}),c.a.createElement("p",{className:"title"},"Select a restaurant you like!")),c.a.createElement(f.a,null,c.a.createElement(y.a,null,c.a.createElement(S.a,{xs:1,md:2}),c.a.createElement(S.a,{xs:4,md:8},c.a.createElement(O.a,{activeIndex:o,onSelect:function(e){i(e)},className:"carousel"},u.map((function(e,t){return c.a.createElement(O.a.Item,{className:"carousel-item",key:t},c.a.createElement("img",{style:{width:"100%",height:"25em"},src:e.image_url,alt:"slide",onClick:function(){h.push({pathname:"/recomm",state:{selectedId:u[o].id}})}}),c.a.createElement(O.a.Caption,{style:{color:"#00BFFF",fontSize:"2em"}},c.a.createElement("h3",null,"Name: "+e.name),c.a.createElement("h3",null,"Location: "+e.location.state+", "+e.location.city),c.a.createElement("h3",null,"Category: "+e.categories[0].title),c.a.createElement("h3",null,"Rating: "+e.rating)))})))),c.a.createElement(S.a,{xs:1,md:2}))))});var M=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){B.database().ref("/").on("value",(function(e){for(var t=e.val(),a=[],n=0;n<5;n++){var c=Math.floor(Math.random()*t.length);a.push(t[c.toString()].id)}o(a)}))}),[]),c.a.createElement("div",null,c.a.createElement(l.a,{basename:"/"},c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:"/",render:function(){return c.a.createElement(I,{idData:a})}}),c.a.createElement(m.a,{path:"/recomm",component:w}),c.a.createElement(m.a,{component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[59,1,2]]]);
//# sourceMappingURL=main.0b9d2f45.chunk.js.map